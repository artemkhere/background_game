{"ast":null,"code":"var _jsxFileName = \"/Users/artemk/background_game/frontend/src/components/GameSession/structures/StructureSlots.jsx\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { socketEmit } from '../../../actions/socketActions';\n\nfunction StructureSlots(props) {\n  const {\n    socketEmit\n  } = props;\n  const {\n    gameState\n  } = props.gameSession;\n\n  const handleSellStructure = builtIndex => {\n    return () => {\n      socketEmit({\n        eventName: 'structureAction',\n        data: {\n          actionType: 'sell',\n          builtIndex\n        }\n      });\n    };\n  };\n\n  const handleBuyBuildSlot = () => {\n    socketEmit({\n      eventName: 'structureAction',\n      data: {\n        actionType: 'buyBuildSlot'\n      }\n    });\n  };\n\n  const structureSlots = structuresBuilt => {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, structuresBuilt.map((structure, builtIndex) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 15\n        }\n      }, \"Name: \", structure.name), /*#__PURE__*/React.createElement(\"button\", {\n        onClick: handleSellStructure(builtIndex),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 15\n        }\n      }, \"Sell\"));\n    }));\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      textAlign: \"left\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }, \"Structures:\"), structureSlots(gameState.structures.built), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleBuyBuildSlot,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }, \"+\"));\n}\n\nfunction mapStateToProps(state) {\n  return {\n    gameSession: state.gameSession\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    socketEmit: socketEmit(dispatch)\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(StructureSlots);","map":{"version":3,"sources":["/Users/artemk/background_game/frontend/src/components/GameSession/structures/StructureSlots.jsx"],"names":["React","connect","socketEmit","StructureSlots","props","gameState","gameSession","handleSellStructure","builtIndex","eventName","data","actionType","handleBuyBuildSlot","structureSlots","structuresBuilt","map","structure","name","textAlign","structures","built","mapStateToProps","state","mapDispatchToProps","dispatch"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,aAAxB;AAEA,SAASC,UAAT,QAA2B,gCAA3B;;AAEA,SAASC,cAAT,CAAwBC,KAAxB,EAA+B;AAC7B,QAAM;AAAEF,IAAAA;AAAF,MAAiBE,KAAvB;AACA,QAAM;AAAEC,IAAAA;AAAF,MAAgBD,KAAK,CAACE,WAA5B;;AAEA,QAAMC,mBAAmB,GAAIC,UAAD,IAAgB;AAC1C,WAAO,MAAM;AACXN,MAAAA,UAAU,CAAC;AACTO,QAAAA,SAAS,EAAE,iBADF;AAETC,QAAAA,IAAI,EAAE;AAAEC,UAAAA,UAAU,EAAE,MAAd;AAAsBH,UAAAA;AAAtB;AAFG,OAAD,CAAV;AAID,KALD;AAMD,GAPD;;AASA,QAAMI,kBAAkB,GAAG,MAAM;AAC/BV,IAAAA,UAAU,CAAC;AACTO,MAAAA,SAAS,EAAE,iBADF;AAETC,MAAAA,IAAI,EAAE;AAAEC,QAAAA,UAAU,EAAE;AAAd;AAFG,KAAD,CAAV;AAID,GALD;;AAOA,QAAME,cAAc,GAAIC,eAAD,IAAqB;AAC1C,wBACE,0CACGA,eAAe,CAACC,GAAhB,CAAoB,CAACC,SAAD,EAAYR,UAAZ,KAA2B;AAC9C,0BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAYQ,SAAS,CAACC,IAAtB,CADF,eAEE;AAAQ,QAAA,OAAO,EAAEV,mBAAmB,CAACC,UAAD,CAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,CADF;AAMD,KAPA,CADH,CADF;AAYD,GAbD;;AAeA,sBACE;AAAK,IAAA,KAAK,EAAE;AAAEU,MAAAA,SAAS,EAAE;AAAb,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,EAEGL,cAAc,CAACR,SAAS,CAACc,UAAV,CAAqBC,KAAtB,CAFjB,eAGE;AAAQ,IAAA,OAAO,EAAER,kBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAHF,CADF;AAOD;;AAED,SAASS,eAAT,CAAyBC,KAAzB,EAAgC;AAC9B,SAAO;AACLhB,IAAAA,WAAW,EAAEgB,KAAK,CAAChB;AADd,GAAP;AAGD;;AAED,SAASiB,kBAAT,CAA4BC,QAA5B,EAAsC;AACpC,SAAO;AACLtB,IAAAA,UAAU,EAAEA,UAAU,CAACsB,QAAD;AADjB,GAAP;AAGD;;AAED,eAAevB,OAAO,CACpBoB,eADoB,EAEpBE,kBAFoB,CAAP,CAGbpB,cAHa,CAAf","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\n\nimport { socketEmit } from '../../../actions/socketActions';\n\nfunction StructureSlots(props) {\n  const { socketEmit } = props;\n  const { gameState } = props.gameSession;\n\n  const handleSellStructure = (builtIndex) => {\n    return () => {\n      socketEmit({\n        eventName: 'structureAction',\n        data: { actionType: 'sell', builtIndex }\n      });\n    }\n  }\n\n  const handleBuyBuildSlot = () => {\n    socketEmit({\n      eventName: 'structureAction',\n      data: { actionType: 'buyBuildSlot' }\n    });\n  }\n\n  const structureSlots = (structuresBuilt) => {\n    return (\n      <>\n        {structuresBuilt.map((structure, builtIndex) => {\n          return (\n            <div>\n              <div>Name: {structure.name}</div>\n              <button onClick={handleSellStructure(builtIndex)}>Sell</button>\n            </div>\n          );\n        })}\n      </>\n    );\n  }\n\n  return (\n    <div style={{ textAlign: \"left\" }}>\n      <div>Structures:</div>\n      {structureSlots(gameState.structures.built)}\n      <button onClick={handleBuyBuildSlot}>+</button>\n    </div>\n  );\n}\n\nfunction mapStateToProps(state) {\n  return {\n    gameSession: state.gameSession,\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    socketEmit: socketEmit(dispatch),\n  };\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(StructureSlots);\n"]},"metadata":{},"sourceType":"module"}