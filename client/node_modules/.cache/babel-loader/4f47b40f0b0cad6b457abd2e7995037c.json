{"ast":null,"code":"import{SOCKET_TRIGGER_CONNECT,SOCKET_SET_ERROR,SOCKET_CONNECT,SOCKET_TRIGGER_DISCONNECT,SOCKET_SET_LOADING,SOCKET_EMIT}from'./actionTypes';export function connectToSocket(dispatch){return function(){dispatch({type:SOCKET_TRIGGER_CONNECT});};}export function setSocketLoading(dispatch,loading){dispatch({type:SOCKET_SET_LOADING,payload:loading});}export function handleSocketConnect(dispatch,user){var jwt=localStorage.getItem('jwt');var userID=user.id;var gameSaveID=localStorage.getItem('gameSaveID');socketEmit(dispatch)({eventName:'startGameSession',data:{userID:userID,gameSaveID:gameSaveID,token:jwt}});dispatch({type:SOCKET_CONNECT});}export function setSocketError(dispatch,error){dispatch({type:SOCKET_SET_ERROR,payload:error});}export function disconnectFromSocket(dispatch){return function(){dispatch({type:SOCKET_TRIGGER_DISCONNECT});};}export function socketEmit(dispatch){return function(event){dispatch({type:SOCKET_EMIT,payload:event});};}","map":{"version":3,"sources":["/Users/artemk/background_game/frontend/src/actions/socketActions.js"],"names":["SOCKET_TRIGGER_CONNECT","SOCKET_SET_ERROR","SOCKET_CONNECT","SOCKET_TRIGGER_DISCONNECT","SOCKET_SET_LOADING","SOCKET_EMIT","connectToSocket","dispatch","type","setSocketLoading","loading","payload","handleSocketConnect","user","jwt","localStorage","getItem","userID","id","gameSaveID","socketEmit","eventName","data","token","setSocketError","error","disconnectFromSocket","event"],"mappings":"AAAA,OACEA,sBADF,CAC0BC,gBAD1B,CAC4CC,cAD5C,CAEEC,yBAFF,CAE6BC,kBAF7B,CAEiDC,WAFjD,KAGO,eAHP,CAKA,MAAO,SAASC,CAAAA,eAAT,CAAyBC,QAAzB,CAAmC,CACxC,MAAO,WAAM,CACXA,QAAQ,CAAC,CAAEC,IAAI,CAAER,sBAAR,CAAD,CAAR,CACD,CAFD,CAGD,CAED,MAAO,SAASS,CAAAA,gBAAT,CAA0BF,QAA1B,CAAoCG,OAApC,CAA6C,CAClDH,QAAQ,CAAC,CACPC,IAAI,CAAEJ,kBADC,CAEPO,OAAO,CAAED,OAFF,CAAD,CAAR,CAID,CAED,MAAO,SAASE,CAAAA,mBAAT,CAA6BL,QAA7B,CAAuCM,IAAvC,CAA6C,CAClD,GAAMC,CAAAA,GAAG,CAAGC,YAAY,CAACC,OAAb,CAAqB,KAArB,CAAZ,CACA,GAAMC,CAAAA,MAAM,CAAGJ,IAAI,CAACK,EAApB,CACA,GAAMC,CAAAA,UAAU,CAAGJ,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAnB,CAEAI,UAAU,CAACb,QAAD,CAAV,CAAqB,CACnBc,SAAS,CAAE,kBADQ,CAEnBC,IAAI,CAAE,CAAEL,MAAM,CAANA,MAAF,CAAUE,UAAU,CAAVA,UAAV,CAAsBI,KAAK,CAAET,GAA7B,CAFa,CAArB,EAKAP,QAAQ,CAAC,CAAEC,IAAI,CAAEN,cAAR,CAAD,CAAR,CACD,CAED,MAAO,SAASsB,CAAAA,cAAT,CAAwBjB,QAAxB,CAAkCkB,KAAlC,CAAyC,CAC9ClB,QAAQ,CAAC,CACPC,IAAI,CAAEP,gBADC,CAEPU,OAAO,CAAEc,KAFF,CAAD,CAAR,CAID,CAED,MAAO,SAASC,CAAAA,oBAAT,CAA8BnB,QAA9B,CAAwC,CAC7C,MAAO,WAAM,CACXA,QAAQ,CAAC,CAAEC,IAAI,CAAEL,yBAAR,CAAD,CAAR,CACD,CAFD,CAGD,CAED,MAAO,SAASiB,CAAAA,UAAT,CAAoBb,QAApB,CAA8B,CACnC,MAAO,UAACoB,KAAD,CAAW,CAChBpB,QAAQ,CAAC,CACPC,IAAI,CAAEH,WADC,CAEPM,OAAO,CAAEgB,KAFF,CAAD,CAAR,CAID,CALD,CAMD","sourcesContent":["import {\n  SOCKET_TRIGGER_CONNECT, SOCKET_SET_ERROR, SOCKET_CONNECT,\n  SOCKET_TRIGGER_DISCONNECT, SOCKET_SET_LOADING, SOCKET_EMIT\n} from './actionTypes';\n\nexport function connectToSocket(dispatch) {\n  return () => {\n    dispatch({ type: SOCKET_TRIGGER_CONNECT });\n  }\n}\n\nexport function setSocketLoading(dispatch, loading) {\n  dispatch({\n    type: SOCKET_SET_LOADING,\n    payload: loading\n  });\n}\n\nexport function handleSocketConnect(dispatch, user) {\n  const jwt = localStorage.getItem('jwt');\n  const userID = user.id;\n  const gameSaveID = localStorage.getItem('gameSaveID');\n\n  socketEmit(dispatch)({\n    eventName: 'startGameSession',\n    data: { userID, gameSaveID, token: jwt }\n  });\n\n  dispatch({ type: SOCKET_CONNECT });\n}\n\nexport function setSocketError(dispatch, error) {\n  dispatch({\n    type: SOCKET_SET_ERROR,\n    payload: error\n  });\n}\n\nexport function disconnectFromSocket(dispatch) {\n  return () => {\n    dispatch({ type: SOCKET_TRIGGER_DISCONNECT });\n  }\n}\n\nexport function socketEmit(dispatch) {\n  return (event) => {\n    dispatch({\n      type: SOCKET_EMIT,\n      payload: event\n    });\n  }\n}\n"]},"metadata":{},"sourceType":"module"}