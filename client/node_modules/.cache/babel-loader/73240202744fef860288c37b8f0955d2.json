{"ast":null,"code":"import React from'react';import{connect}from'react-redux';import{socketEmit}from'../../../actions/socketActions';function ItemShop(props){var socketEmit=props.socketEmit;var gameSchema=props.gameSession.gameSchema;var handleBuyItem=function handleBuyItem(itemName){return function(){socketEmit({eventName:'itemAction',data:{actionType:'buy',itemName:itemName}});};};// parse items to be displayed and not shown\nvar itemList=gameSchema.itemShop.map(function(item){if(item.shouldDisplay){var baseInfo=/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",null,\"Name: \",item.name),/*#__PURE__*/React.createElement(\"div\",null,\"Price: \",item.price),/*#__PURE__*/React.createElement(\"div\",null,\"Description: \",item.description));if(item.canBePurchased){return/*#__PURE__*/React.createElement(\"div\",null,baseInfo,/*#__PURE__*/React.createElement(\"button\",{onClick:handleBuyItem(item.name)},\"Buy Item\"));}else{return/*#__PURE__*/React.createElement(\"div\",null,baseInfo,/*#__PURE__*/React.createElement(\"div\",null,\"Requirements to buy: \",item.canBePurchasedRequirements));}}else{return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",null,\"??? MYSTERY ITEM ???\"),/*#__PURE__*/React.createElement(\"div\",null,\"Will show when: \",item.shouldDisplayRequirements));}});return/*#__PURE__*/React.createElement(\"div\",{style:{textAlign:\"left\"}},/*#__PURE__*/React.createElement(\"div\",null,\"Item Shop:\"),itemList);}function mapStateToProps(state){return{gameSession:state.gameSession};}function mapDispatchToProps(dispatch){return{socketEmit:socketEmit(dispatch)};}export default connect(mapStateToProps,mapDispatchToProps)(ItemShop);","map":{"version":3,"sources":["/Users/artemk/background_game/frontend/src/components/GameSession/items/ItemShop.jsx"],"names":["React","connect","socketEmit","ItemShop","props","gameSchema","gameSession","handleBuyItem","itemName","eventName","data","actionType","itemList","itemShop","map","item","shouldDisplay","baseInfo","name","price","description","canBePurchased","canBePurchasedRequirements","shouldDisplayRequirements","textAlign","mapStateToProps","state","mapDispatchToProps","dispatch"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,OAAT,KAAwB,aAAxB,CAEA,OAASC,UAAT,KAA2B,gCAA3B,CAEA,QAASC,CAAAA,QAAT,CAAkBC,KAAlB,CAAyB,IACfF,CAAAA,UADe,CACAE,KADA,CACfF,UADe,IAEfG,CAAAA,UAFe,CAEAD,KAAK,CAACE,WAFN,CAEfD,UAFe,CAIvB,GAAME,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,QAAD,CAAc,CAClC,MAAO,WAAM,CACXN,UAAU,CAAC,CACTO,SAAS,CAAE,YADF,CAETC,IAAI,CAAE,CAAEC,UAAU,CAAE,KAAd,CAAqBH,QAAQ,CAARA,QAArB,CAFG,CAAD,CAAV,CAID,CALD,CAMD,CAPD,CASA;AACA,GAAMI,CAAAA,QAAQ,CAAGP,UAAU,CAACQ,QAAX,CAAoBC,GAApB,CAAwB,SAACC,IAAD,CAAU,CACjD,GAAIA,IAAI,CAACC,aAAT,CAAwB,CACtB,GAAMC,CAAAA,QAAQ,cACZ,4CACE,wCAAYF,IAAI,CAACG,IAAjB,CADF,cAEE,yCAAaH,IAAI,CAACI,KAAlB,CAFF,cAGE,+CAAmBJ,IAAI,CAACK,WAAxB,CAHF,CADF,CAQA,GAAIL,IAAI,CAACM,cAAT,CAAyB,CACvB,mBACE,+BACGJ,QADH,cAEE,8BAAQ,OAAO,CAAEV,aAAa,CAACQ,IAAI,CAACG,IAAN,CAA9B,aAFF,CADF,CAMD,CAPD,IAOO,CACL,mBACE,+BACGD,QADH,cAEE,uDAA2BF,IAAI,CAACO,0BAAhC,CAFF,CADF,CAMD,CACF,CAxBD,IAwBO,CACL,mBACE,4CACE,sDADF,cAEE,kDAAsBP,IAAI,CAACQ,yBAA3B,CAFF,CADF,CAMD,CACF,CAjCgB,CAAjB,CAmCA,mBACE,2BAAK,KAAK,CAAE,CAAEC,SAAS,CAAE,MAAb,CAAZ,eACE,4CADF,CAEGZ,QAFH,CADF,CAMD,CAED,QAASa,CAAAA,eAAT,CAAyBC,KAAzB,CAAgC,CAC9B,MAAO,CACLpB,WAAW,CAAEoB,KAAK,CAACpB,WADd,CAAP,CAGD,CAED,QAASqB,CAAAA,kBAAT,CAA4BC,QAA5B,CAAsC,CACpC,MAAO,CACL1B,UAAU,CAAEA,UAAU,CAAC0B,QAAD,CADjB,CAAP,CAGD,CAED,cAAe3B,CAAAA,OAAO,CACpBwB,eADoB,CAEpBE,kBAFoB,CAAP,CAGbxB,QAHa,CAAf","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\n\nimport { socketEmit } from '../../../actions/socketActions';\n\nfunction ItemShop(props) {\n  const { socketEmit } = props;\n  const { gameSchema } = props.gameSession;\n\n  const handleBuyItem = (itemName) => {\n    return () => {\n      socketEmit({\n        eventName: 'itemAction',\n        data: { actionType: 'buy', itemName }\n      });\n    }\n  }\n\n  // parse items to be displayed and not shown\n  const itemList = gameSchema.itemShop.map((item) => {\n    if (item.shouldDisplay) {\n      const baseInfo = (\n        <div>\n          <div>Name: {item.name}</div>\n          <div>Price: {item.price}</div>\n          <div>Description: {item.description}</div>\n        </div>\n      );\n\n      if (item.canBePurchased) {\n        return (\n          <div>\n            {baseInfo}\n            <button onClick={handleBuyItem(item.name)}>Buy Item</button>\n          </div>\n        );\n      } else {\n        return (\n          <div>\n            {baseInfo}\n            <div>Requirements to buy: {item.canBePurchasedRequirements}</div>\n          </div>\n        );\n      }\n    } else {\n      return (\n        <div>\n          <div>??? MYSTERY ITEM ???</div>\n          <div>Will show when: {item.shouldDisplayRequirements}</div>\n        </div>\n      );\n    }\n  });\n\n  return (\n    <div style={{ textAlign: \"left\" }}>\n      <div>Item Shop:</div>\n      {itemList}\n    </div>\n  );\n}\n\nfunction mapStateToProps(state) {\n  return {\n    gameSession: state.gameSession,\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    socketEmit: socketEmit(dispatch),\n  };\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(ItemShop);\n"]},"metadata":{},"sourceType":"module"}